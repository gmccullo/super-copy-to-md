<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate Extension Icons</title>
  <style>
    body { font-family: sans-serif; padding: 24px; }
    h2 { margin: 24px 0 8px; }
    h2:first-of-type { margin-top: 0; }
    .previews { display: flex; align-items: flex-end; gap: 24px; margin-bottom: 16px; }
    .preview { text-align: center; }
    .preview span { display: block; font-size: 11px; color: #666; margin-top: 4px; }
    .downloads { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px; }
    a.dl {
      display: inline-block; padding: 8px 16px; background: #1a6ef5;
      color: white; text-decoration: none; border-radius: 6px; font-size: 14px;
    }
    hr { border: none; border-top: 1px solid #e5e7eb; margin: 28px 0; }
    p.instructions { color: #444; max-width: 520px; margin: 0 0 16px; }
  </style>
</head>
<body>

  <p class="instructions">
    Click each button to download the PNG. Save files into
    <code>src/icons/</code>, then reload the extension in <code>chrome://extensions</code>.
  </p>

  <h2>Extension icon — icon{size}.png</h2>
  <div class="previews" id="previews-main"></div>
  <div class="downloads" id="downloads-main"></div>

  <hr>

  <h2>Copy icon — copy{size}.png</h2>
  <div class="previews" id="previews-copy"></div>
  <div class="downloads" id="downloads-copy"></div>

  <hr>

  <h2>Gear icon — gear{size}.png</h2>
  <div class="previews" id="previews-gear"></div>
  <div class="downloads" id="downloads-gear"></div>

  <script>
    const icons = [
      {
        id: 'main',
        prefix: 'icon',
        sizes: [16, 32, 48, 128],
        svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
  <rect width="128" height="128" rx="22" fill="#1a6ef5"/>
  <polyline points="32,26 90,64 32,102"
    fill="none" stroke="white" stroke-width="17"
    stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
      },
      {
        id: 'copy',
        prefix: 'copy',
        sizes: [16, 32],
        svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#374151" d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1zM9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5H3a1.5 1.5 0 0 0-1.5 1.5V14A1.5 1.5 0 0 0 3 15.5h10A1.5 1.5 0 0 0 14.5 14V3A1.5 1.5 0 0 0 13 1.5h-2A1.5 1.5 0 0 0 9.5 0h-3z"/>
</svg>`
      },
      {
        id: 'gear',
        prefix: 'gear',
        sizes: [16, 32],
        svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#374151" d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
</svg>`
      }
    ];

    function renderIcon({ id, prefix, sizes, svg }) {
      const blob = new Blob([svg], { type: 'image/svg+xml' });
      const svgUrl = URL.createObjectURL(blob);
      const img = new Image();
      img.onload = () => {
        const previews  = document.getElementById(`previews-${id}`);
        const downloads = document.getElementById(`downloads-${id}`);

        sizes.forEach(size => {
          const canvas = document.createElement('canvas');
          canvas.width = canvas.height = size;
          canvas.getContext('2d').drawImage(img, 0, 0, size, size);
          const dataUrl = canvas.toDataURL('image/png');

          // Preview
          const displaySize = Math.max(size, 32);
          const pc = document.createElement('canvas');
          pc.width = pc.height = displaySize;
          pc.style.width = pc.style.height = displaySize + 'px';
          pc.style.imageRendering = 'pixelated';
          pc.getContext('2d').drawImage(canvas, 0, 0, displaySize, displaySize);
          const wrapper = document.createElement('div');
          wrapper.className = 'preview';
          wrapper.appendChild(pc);
          const label = document.createElement('span');
          label.textContent = `${size}×${size}`;
          wrapper.appendChild(label);
          previews.appendChild(wrapper);

          // Download link
          const a = document.createElement('a');
          a.className = 'dl';
          a.href = dataUrl;
          a.download = `${prefix}${size}.png`;
          a.textContent = `↓  ${prefix}${size}.png`;
          downloads.appendChild(a);
        });

        URL.revokeObjectURL(svgUrl);
      };
      img.src = svgUrl;
    }

    icons.forEach(renderIcon);
  </script>
</body>
</html>
